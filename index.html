---
layout: default
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>我的摄影集 - 银河版</title>
    <style>
        /* 1. 银河启动屏样式 */
        #splash-screen {
            position: fixed;
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background: #000; /* 纯黑背景提升对比度 */
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        #galaxy-canvas { position: absolute; top: 0; left: 0; }

        .welcome-text {
            position: relative;
            z-index: 10001;
            color: #fff;
            font-family: -apple-system, "PingFang SC", sans-serif;
            font-size: 1rem;
            letter-spacing: 0.8rem;
            font-weight: 200;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            margin-top: 250px; /* 避开中心旋涡 */
            opacity: 0.8;
        }

        /* 2. 摄影集样式（保持原样） */
        body { font-family: -apple-system, "PingFang SC", sans-serif; background: #f0f0f0; margin: 0; overflow: hidden; }
        h1 { margin-top: 60px; letter-spacing: 8px; text-align: center; font-weight: 300; color: #222; }
        .subtitle { text-align: center; color: #888; font-size: 14px; letter-spacing: 2px; margin-bottom: 40px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 35px; padding: 0 40px 60px 40px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 15px 30px rgba(0,0,0,0.05); opacity: 0; transform: translateY(40px); }
        .card.show { opacity: 1; transform: translateY(0); transition: opacity 1s ease, transform 1s cubic-bezier(0.2, 0.8, 0.2, 1); }
        img { width: 100%; height: 260px; object-fit: cover; display: block; }
        .info { padding: 25px 20px; color: #444; font-size: 15px; text-align: center; display: flex; align-items: center; justify-content: center; min-height: 24px; }
    </style>
</head>
<body>

    <div id="splash-screen">
        <canvas id="galaxy-canvas"></canvas>
        <div class="welcome-text">正在接入银河档案...</div>
    </div>

    <div id="page-content">
        <h1>PHOTOGRAPHY</h1>
        <p class="subtitle">—— 瞬间即是永恒 ——</p>
        <div class="grid">
            {% for file in site.static_files %}
                {% if file.path contains '/assets/photos/' %}
                    <div class="card">
                        <img src="{{ file.path | relative_url }}">
                        <div class="info">
                            {% assign photo_name = file.path | split: "/" | last %}
                            {% assign desc = site.data.descriptions[photo_name] %}
                            {% if desc %}{{ desc.zh | default: desc }}{% else %}<span style="color: #bbb;">正在感悟这张照片...</span>{% endif %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <script>
        const canvas = document.getElementById('galaxy-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, stars = [];

        function init() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            stars = [];
            // 创建 2000 个星点构成螺旋
            for (let i = 0; i < 2000; i++) {
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.pow(Math.random(), 2) * Math.max(w, h) * 0.5; // 让更多星星聚集在中心
                stars.push({
                    angle: angle,
                    distance: distance,
                    offset: Math.random() * 30, // 增加随机偏移让旋臂更自然
                    speed: 0.02 + (1 / distance) * 5, // 靠近中心的旋转更快
                    size: Math.random() * 1.5,
                    color: `hsla(${240 + Math.random() * 50}, 80%, 90%, ${Math.random() * 0.8 + 0.2})`
                });
            }
        }

        function draw() {
            // 背景半透明涂层形成拖尾
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, w, h);
            ctx.save();
            ctx.translate(w / 2, h / 2);

            stars.forEach(s => {
                s.angle += s.speed * 0.5; // 旋转速度系数
                
                // 银河螺旋公式：让星星根据距离产生相位差形成旋臂
                const x = Math.cos(s.angle + s.distance * 0.005) * s.distance;
                const y = Math.sin(s.angle + s.distance * 0.005) * s.distance;

                ctx.beginPath();
                ctx.fillStyle = s.color;
                ctx.arc(x, y, s.size, 0, Math.PI * 2);
                ctx.fill();

                // 为中心点增加光晕感
                if (s.distance < 50 && Math.random() > 0.9) {
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = "#fff";
                } else {
                    ctx.shadowBlur = 0;
                }
            });

            ctx.restore();
            window.gAnim = requestAnimationFrame(draw);
        }

        window.addEventListener('resize', init);
        init();
        draw();

        // 退出逻辑
        window.addEventListener('load', () => {
            setTimeout(() => {
                const splash = document.getElementById('splash-screen');
                const cards = document.querySelectorAll('.card');
                
                splash.style.opacity = '0';
                document.body.style.overflow = 'auto';

                cards.forEach((card, index) => {
                    setTimeout(() => card.classList.add('show'), 120 * index);
                });

                setTimeout(() => {
                    cancelAnimationFrame(window.gAnim);
                    splash.remove();
                }, 1500);
            }, 3000); // 3秒后进入
        });
    </script>
</body>
</html>
