---
layout: default
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>我的五彩摄影集</title>
    <style>
        /* 1. 五彩银河启动屏 */
        #splash-screen {
            position: fixed;
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background: #000;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        #galaxy-canvas { position: absolute; top: 0; left: 0; }

        .welcome-text {
            position: relative;
            z-index: 10001;
            color: #fff;
            font-family: -apple-system, "PingFang SC", sans-serif;
            font-size: 1rem;
            letter-spacing: 0.8rem;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            margin-top: 250px;
            opacity: 0.9;
        }

        /* 2. 摄影集样式保持不变 */
        body { font-family: -apple-system, "PingFang SC", sans-serif; background: #f0f0f0; margin: 0; overflow: hidden; }
        h1 { margin-top: 60px; letter-spacing: 8px; text-align: center; font-weight: 300; color: #222; }
        .subtitle { text-align: center; color: #888; font-size: 14px; letter-spacing: 2px; margin-bottom: 40px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 35px; padding: 0 40px 60px 40px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 15px 30px rgba(0,0,0,0.05); opacity: 0; transform: translateY(40px); }
        .card.show { opacity: 1; transform: translateY(0); transition: opacity 1s ease, transform 1s cubic-bezier(0.2, 0.8, 0.2, 1); }
        img { width: 100%; height: 260px; object-fit: cover; display: block; }
        .info { padding: 25px 20px; color: #444; font-size: 15px; text-align: center; display: flex; align-items: center; justify-content: center; min-height: 24px; }
    </style>
</head>
<body>

    <div id="splash-screen">
        <canvas id="galaxy-canvas"></canvas>
        <div class="welcome-text">正在初始化多彩宇宙...</div>
    </div>

    <div id="page-content">
        <h1>PHOTOGRAPHY</h1>
        <p class="subtitle">—— 瞬间即是永恒 ——</p>
        <div class="grid">
            {% for file in site.static_files %}
                {% if file.path contains '/assets/photos/' %}
                    <div class="card">
                        <img src="{{ file.path | relative_url }}">
                        <div class="info">
                            {% assign photo_name = file.path | split: "/" | last %}
                            {% assign desc = site.data.descriptions[photo_name] %}
                            {% if desc %}{{ desc.zh | default: desc }}{% else %}<span style="color: #bbb;">正在感悟这张照片...</span>{% endif %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <script>
        const canvas = document.getElementById('galaxy-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, stars = [];

        function init() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < 2200; i++) {
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.pow(Math.random(), 2) * Math.max(w, h) * 0.6;
                // 核心修改：使用 HSL 颜色模型生成五彩效果
                // 0-360 度代表了彩虹的所有颜色
                const hue = Math.random() * 360; 
                stars.push({
                    angle: angle,
                    distance: distance,
                    speed: 0.015 + (1 / distance) * 8, 
                    size: Math.random() * 2,
                    hue: hue,
                    brightness: Math.random() * 20 + 70, // 亮度在 70%-90% 之间
                    sat: Math.random() * 30 + 70         // 饱和度在 70%-100% 之间
                });
            }
        }

        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)'; // 维持较好的拖尾感
            ctx.fillRect(0, 0, w, h);
            ctx.save();
            ctx.translate(w / 2, h / 2);

            stars.forEach(s => {
                s.angle += s.speed * 0.4;
                
                // 银河螺旋轨迹
                const x = Math.cos(s.angle + s.distance * 0.004) * s.distance;
                const y = Math.sin(s.angle + s.distance * 0.004) * s.distance;

                // 让星星颜色产生轻微的动态变化（波动的色相）
                const currentHue = (s.hue + s.angle * 10) % 360;

                ctx.beginPath();
                ctx.fillStyle = `hsla(${currentHue}, ${s.sat}%, ${s.brightness}%, ${Math.random() * 0.5 + 0.5})`;
                ctx.arc(x, y, s.size, 0, Math.PI * 2);
                ctx.fill();

                // 只有最中心的星星带强光晕，避免全屏太刺眼
                if (s.distance < 80 && Math.random() > 0.95) {
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = `hsl(${currentHue}, 100%, 80%)`;
                } else {
                    ctx.shadowBlur = 0;
                }
            });

            ctx.restore();
            window.gAnim = requestAnimationFrame(draw);
        }

        window.addEventListener('resize', init);
        init();
        draw();

        // 退出逻辑
        window.addEventListener('load', () => {
            setTimeout(() => {
                const splash = document.getElementById('splash-screen');
                const cards = document.querySelectorAll('.card');
                
                splash.style.opacity = '0';
                document.body.style.overflow = 'auto';

                cards.forEach((card, index) => {
                    setTimeout(() => card.classList.add('show'), 120 * index);
                });

                setTimeout(() => {
                    cancelAnimationFrame(window.gAnim);
                    splash.remove();
                }, 1500);
            }, 3000); 
        });
    </script>
</body>
</html>
